<html>

<head>
	<link rel="stylesheet" type="text/css" href="/style.css" />
</head>

<body>
	<div class="login-box">
		<h2>Please Enter Github Username</h2>
		<form id="username" method="POST" action="/dmd">
			<div class="user-box">
				<input type="text" id="name" name="username" required />
				<label>github username</label>
			</div>
			<a onclick="verify();">
				<span></span>
				<span></span>
				<span></span>
				<span></span>
				DEPLOY
			</a>
		</form>
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.js"></script>
	<script type="text/javascript">
		async function verify() {
			if (document.getElementById('name').value.length > 0) {
				try {
					await axios(
						`https://api.github.com/users/${document.getElementById('name').value
						}`
					)
					document.getElementById('username').submit()
				} catch (error) {
					return alert('Invalid Username')
				}
				try {
					await axios(`https://api.github.com/repos/${document.getElementById('name').value}/hyno-md`)
				} catch (error) {
					window.location.href = 'https://github.com/hyno-ir/hyno-md/fork'
				}
			}
		}
	</script>
</body>

</html>
